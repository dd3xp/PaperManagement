{"ast":null,"code":"var _jsxFileName = \"C:\\\\Program Files\\\\cpp\\\\oop\\\\cppcode\\\\PaperManagement\\\\webapp\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const validateInput = () => {\n    const usernameRegex = /^[a-zA-Z0-9_]{3,20}$/;\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    if (!usernameRegex.test(username)) {\n      setError('Username must be 3-20 characters long and can only contain letters, numbers, and underscores.');\n      return false;\n    }\n    if (!passwordRegex.test(password)) {\n      setError('Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.');\n      return false;\n    }\n    setError('');\n    return true;\n  };\n  const handleLogin = async e => {\n    e.preventDefault();\n    if (!validateInput()) return;\n    try {\n      const response = await axios.post('/api/auth/login', {\n        username,\n        password\n      });\n      localStorage.setItem('token', response.data.token);\n      alert('Login successful!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(error);\n      alert('Login failed! ' + (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || error.message));\n    }\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    if (!validateInput()) return;\n    try {\n      await axios.post('/api/auth/register', {\n        username,\n        password\n      });\n      setIsLogin(true);\n      alert('Registration successful! Please log in.');\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      console.error(error);\n      alert('Registration failed! ' + (((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.error) || error.message));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: isLogin ? 'Login' : 'Register'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: isLogin ? handleLogin : handleRegister,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        placeholder: \"Username\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"switch\",\n      onClick: () => setIsLogin(!isLogin),\n      children: isLogin ? 'Don\\'t have an account? Register' : 'Already have an account? Login'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"FzAlotZVPcxhMzI3BfFc04coFJs=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","App","_s","isLogin","setIsLogin","username","setUsername","password","setPassword","error","setError","validateInput","usernameRegex","passwordRegex","test","handleLogin","e","preventDefault","response","post","localStorage","setItem","data","token","alert","_error$response","_error$response$data","console","message","handleRegister","_error$response2","_error$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","value","onChange","target","placeholder","required","style","color","onClick","_c","$RefreshReg$"],"sources":["C:/Program Files/cpp/oop/cppcode/PaperManagement/webapp/frontend/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst App = () => {\r\n  const [isLogin, setIsLogin] = useState(true);\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const validateInput = () => {\r\n    const usernameRegex = /^[a-zA-Z0-9_]{3,20}$/;\r\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\r\n\r\n    if (!usernameRegex.test(username)) {\r\n      setError('Username must be 3-20 characters long and can only contain letters, numbers, and underscores.');\r\n      return false;\r\n    }\r\n\r\n    if (!passwordRegex.test(password)) {\r\n      setError('Password must be at least 8 characters long and contain at least one uppercase letter, one lowercase letter, one number, and one special character.');\r\n      return false;\r\n    }\r\n\r\n    setError('');\r\n    return true;\r\n  };\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateInput()) return;\r\n\r\n    try {\r\n      const response = await axios.post('/api/auth/login', { username, password });\r\n      localStorage.setItem('token', response.data.token);\r\n      alert('Login successful!');\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Login failed! ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateInput()) return;\r\n\r\n    try {\r\n      await axios.post('/api/auth/register', { username, password });\r\n      setIsLogin(true);\r\n      alert('Registration successful! Please log in.');\r\n    } catch (error) {\r\n      console.error(error);\r\n      alert('Registration failed! ' + (error.response?.data?.error || error.message));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>{isLogin ? 'Login' : 'Register'}</h2>\r\n      <form onSubmit={isLogin ? handleLogin : handleRegister}>\r\n        <input\r\n          type=\"text\"\r\n          value={username}\r\n          onChange={(e) => setUsername(e.target.value)}\r\n          placeholder=\"Username\"\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          placeholder=\"Password\"\r\n          required\r\n        />\r\n        <button type=\"submit\">{isLogin ? 'Login' : 'Register'}</button>\r\n      </form>\r\n      {error && <div style={{ color: 'red' }}>{error}</div>}\r\n      <div className=\"switch\" onClick={() => setIsLogin(!isLogin)}>\r\n        {isLogin ? 'Don\\'t have an account? Register' : 'Already have an account? Login'}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}